<!DOCTYPE html>
<html>
<head>
  <title>Layout</title>
  <script src="main.js"></script>
</head>
<body>
  <div id="inject-elm"></div>
  <script>
  const urlParams = new URLSearchParams(window.location.search);
  const specUrl = urlParams.get("specUrl");
  if(specUrl) {
    fetch(specUrl).then(r => r.json()).then(spec => {
      Elm.Main.init({
        node: document.getElementById('inject-elm')
        , flags: spec ? spec : null
      });
    });
  } else {
    Elm.Main.init({
      node: document.getElementById('inject-elm')
      , flags: null
    });
  }
  </script>
</body>
</html>
